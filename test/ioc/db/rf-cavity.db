#! Generated by VisualDCT v2.6
#! DBDSTART
#! DBD("includes.dbd")
#! DBDEND

# Basic RF PVs
record(ao, "adamc:R$(A)GSET") {
    field(VAL, 5)
    field(DRVH, 25)
    field(PINI, "YES")
}
record(ao, "adamc:R$(A)GMES") {
    field(VAL, 4.999)
    field(PINI, "YES")
}
record(ao, "adamc:R$(A)ODVH") {
    field(VAL, 20)
    field(PINI, "YES")
}
record(ao, "adamc:R$(A)PSET") {
    field(VAL, -25)
    field(PINI, "YES")
}

# C25/C50 info on cavity faults
#record(ai, "adamc:R$(A)STAT") {
record(mbbiDirect,"adamc:R$(A)STAT") {
    field(VAL, 0)
    field(PINI, "YES")
}


# C100 info gradient ramping
record(ai, "adamc:R$(A)STAT1") {
    field(VAL, 0)
    field(PINI, "YES")
}

record(ai, "adamc:R$(A)DETA") {
    field(VAL, 0)
    field(PINI, "YES")
}

# LLRF 1.0 Tuning PVs
record(ai, "adamc:R$(A)TDETA") {
    field(VAL, 0)
    field(PINI, "YES")
}

# LLRF 1.0 Tuning PVs
record(ai, "adamc:R$(A)TDETA_N") {
    field(VAL, 10)
    field(PINI, "YES")
}

# LLRF 2.0/3.0 Tuning PVs
record(ai, "adamc:R$(A)CFQE") {
    field(VAL, 0)
    field(PINI, "YES")
}
record(ai, "adamc:R$(A)DETAHZHI") {
    field(VAL, 10)
    field(PINI, "YES")
}

# Create LLRF1.0 the tuner mode record (auto / manual)
# auto:   TMODI == 1
# manual: TMODI == 0
record(ao, "adamc:R$(A)TMODI") {
    field(VAL, 1)
    field(PINI, "YES")
}

# Create the LLRF2.0/3.0 tuner mode record
# auto: .B7 == 1
# manual: .B7 == 0
record(mbbiDirect, "adamc:R$(A)TCMDbits") {
    field(VAL, 128)
    field(PINI, "YES")
}

# New LLRF 2.0 "Was FSD raised?" PV
# 12 GeV style controls
record(ao, "adamc:R$(A)FBRIO") {
    field(VAL, 768)
    field(PINI, "YES")
}

record(ao, "adamc:R$(A)FCCVER") {
    field(VAL, 2021.0)
    field(PINI, "YES")
}

record(ao, "adamc:R$(A)RFONr") {
    field(VAL, 1)
    field(PINI, "YES")
}
# 6 GeV style controls  B6 "RF On" bit.  Zero-indexed bit word
record(mbbiDirect, "adamc:R$(A)ACK1") {
    field(VAL, 64)
    field(PINI, "YES")
}

# LLRF 3.0 fault bitword (klystron) - bit 1, 1 == good
record(ao, "adamc:R$(A)KFLT") {
    field(VAL, 1)
    field(PINI, "YES")
}